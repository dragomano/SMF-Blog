---
title: Improved Attachment Error Handling
long_title: Improved Attachment Error Handling - улучшенная обработка вложений
description: Расширенная обработка ошибок при загрузке вложений на форум.
date: 2013-06-07
tags: [вложения, ошибки, лог, SMF 2.0]
categories: [translations]
---

Модификация добавляет расширенную обработку ошибок при загрузке вложений.

<!-- more -->

{{ info('По умолчанию в SMF, когда вы загружаете какой-нибудь файл и возникает ошибка, процесс загрузки прекращается. Вас просто перекидывает обратно, на страницу сообщения, для исправления проблемы.') }}

## Особенности

- С этим модом любые сообщения об ошибках будут отображаться на отдельной странице, после загрузки файлов и публикации сообщения
- Файлы, при загрузке которых возникнет ошибка, будут просто удалены с сервера. И никакой информации о них в базу данных не попадет
- Никаких настроек — просто установите мод и попробуйте загрузить любой большой файл, превышающий установленные ограничения

{{ download('https://custom.simplemachines.org/index.php?mod=3255') }}

??? Русификация

    Добавить в файл `Post.russian-utf8.php`:

    ```php
    <?php

    // Improved Attachment Error Handling
    $txt['attachment_error'] = 'Во время загрузки обнаружились следующие проблемы:';
    $txt['continue'] = 'Продолжить';
    $txt['max_total_file_size'] = 'Не остается места! Текущее ограничение на размер вложения в сообщении — %1$d KB. Объем свободного пространства — %2$d KB.';
    $txt['attach_folder_warning'] = 'Директория вложений не может быть обнаружена. Пожалуйста, сообщите администратору об этой проблеме.';
    $txt['attach_folder_admin_warning'] = 'Указан неправильный путь к директории вложений. Пожалуйста, исправьте это в параметрах вложений.';
    $txt['attach_php_error'] = 'Из-за возникшей ошибки ваше вложение не может быть загружено. Пожалуйста, сообщите администратору форума, если это повторится.';
    $txt['php_upload_error_1'] = 'Загружаемый файл превышает ограничение, заданное в php.ini директивой upload_max_filesize';
    $txt['php_upload_error_3'] = 'Файл был загружен лишь частично.';
    $txt['php_upload_error_4'] = 'Файл не был загружен.';
    $txt['php_upload_error_6'] = 'Сохранение невозможно. Отсутствует папка для хранения временных файлов';
    $txt['php_upload_error_7'] = 'Не удалось записать файл на диск.';
    $txt['php_upload_error_8'] = 'Расширение PHP приостановило загрузку файла.';
    $txt['post_upload_error'] = 'Отправляемые данные отсутствуют. Эта ошибка может быть вызвана попыткой загрузки файла с размером, превышающим установленные на сервере ограничения. Пожалуйста, сообщите администратору в случае повторения ошибки.';
    ```
